# 基本情報

## このアプリについて
- python で実装された GUI アプリ
- Windows 専用で、ウィンドウのキャプチャ機能を提供する
- アニメのキャプチャを撮るという人類普遍の営みをサポートするために存在する

## 開発環境
- windows + vscode での開発を前提とする
- CLI は Power Shell を前提とする

## AI エージェント行動原則
- AI エージェントによるファイルの編集操作は一切禁止です
- ソースコードの編集等はすべてユーザーが行います
- AI エージェントは Read-Only なコマンドのみ実行が許可されます
- ユーザーが問題を解決できるよう、チャット上で提案を行ってください

# アプリの要件・仕様

## エンドユーザーの素朴なストーリー
- ツールを立ち上げて、
- アニメを再生しているブラウザを選択して、
- 「一閃」タブでクリックすると、
- スクショがクリップボードに転送されるので、
- それを Discord に貼り付ける

## エンドユーザー視点での基本要件
- Windows 上の任意のウィンドウをキャプチャ対象として選択可能
- ウィンドウのキャプチャが可能
    - 形態はスチル（静止画）・アニメ（動画）の２つ
    - アニメは数秒程度のごく短時間のみ
- スクショに対する編集が可能
    - 初歩的なリサイズ（過剰な解像度の抑制、ピラーボックスの除去）
    - スクショに対する名前（ウィンドウからパース）のオーバーレイ
- スクショの扱い
    - 生のスクショ・リサイズ後の結果はファイルに保存される
    - リサイズ後ファイルは Discord に貼り付けるのに適した圧縮がかかっている
    - リサイズ後ファイルはクリップボードに転送される
- アプリを .exe で実行可能
    - エンドユーザー向けビルド済みパッケージに .exe ファイルが含まれる

## UI の構成
- １つのメインウィンドウ上にタブ切り替え可能な複数の画面が乗っている
- 各タブは単一の機能・責任を負う

## 主要な使用ライブラリ
- GUI は Custom Tk Inter を使用
- キャプチャは aynime_capture を使用
- .exe の生成は `pyinstaller` 

## ソースコードの構成

### `src/build`
- エンドユーザー向けビルド済みパッケージを生成する

### `src/gui/model`
- Model-View でいうところの Model を定義
- 画像処理の発生回数を最小化するためのキャッシュ機構はここで定義

## `src/gui/frames`
- Model-View でいうところの View を定義
- アプリの顔となる各タブをここで定義

### `src/gui/widget`
- Model-View でいうところの View を定義
- 複数のタブで共通して使うウィジェットはここで定義

## `src/utils`
- UI ・ロジック定義ではないものをここで定義
- 
